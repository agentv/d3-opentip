<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/opentip/2.4.6/downloads/opentip-native.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/opentip/2.4.6/css/opentip.css" rel="stylesheet" type="text/css" />
    <style>
    </style>
</head>

<body>
    <div id="map"></div>
    
    <script type="text/javascript">
    
    var dataset = [[4,2,'Bob', 'glass'], 
    	[5,7,'Sally', 'alert' ], 
    	[2,2,'Marvin', 'dark' ],
    	[1,8,'Hakeem', 'waterfall']    
    ];
    var width = 38;
    var height = 38;
    var margin = 20;
    
    Opentip.styles.waterfall = {
    	extends: 'dark',
    	stemLength: 12,
    	stemBase: 5,
    	background: 'green'
    };
           
    function giveX(d) { return d[0] * width + margin }
	function giveY(d) { return d[1] * height + margin }

    var mapdiv = d3.select("#map")
    	.append("svg")
    	.attr("height", 680)
    	.attr("width", 980)
    	.style('border', '1px solid black')
    	  	
    var pips = mapdiv.selectAll('circle')
    	.data(dataset)
    	.enter().append('circle')
    		.attr('cx', function(d) {return giveX(d)})
    		.attr('cy', function(d) {return giveY(d)})
    		.attr('r', width/2)
    		.style('fill', "red")
    		.style('stroke', "black")
    		.each(function(d,i){
    				t = new Opentip(this, {style: d[3]});
    				t.setContent(d[2]);
    		})

    </script>   
</body>
</html>
